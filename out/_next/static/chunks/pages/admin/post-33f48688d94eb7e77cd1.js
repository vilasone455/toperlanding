_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"20a2":function(e,t,n){e.exports=n("nOHt")},kaSb:function(e,t,n){"use strict";var r=n("nKUr"),c=n("rePB"),a=n("o0o1"),s=n.n(a),i=n("HaE+");function o(e){this.wrapped=e}function l(e){var t,n;function r(t,n){try{var a=e[t](n),s=a.value,i=s instanceof o;Promise.resolve(i?s.wrapped:s).then((function(e){i?r("return"===t?"return":"next",e):c(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(l){c("throw",l)}}function c(e,c){switch(e){case"return":t.resolve({value:c,done:!0});break;case"throw":t.reject(c);break;default:t.resolve({value:c,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,c){return new Promise((function(a,s){var i={key:e,arg:c,resolve:a,reject:s,next:null};n?n=n.next=i:(t=n=i,r(e,c))}))},"function"!==typeof e.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(l.prototype[Symbol.asyncIterator]=function(){return this}),l.prototype.next=function(e){return this._invoke("next",e)},l.prototype.throw=function(e){return this._invoke("throw",e)},l.prototype.return=function(e){return this._invoke("return",e)};var u=n("q1tI"),b=n("mNyV"),j=n.n(b),d=n("rQ2n"),p=n("iEU0"),f=n("IujW"),x=n.n(f),O=n("N/WL"),h=n.n(O),m=(n("yCiI"),n("VFWX")),v=n("+39m"),g=n("20a2");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t=e.slug,n=e.isEdit,a=Object(u.useState)({title:"Blog Title",content:"",tags:[]}),o=a[0],l=a[1],b=Object(g.useRouter)(),f=Object(u.useState)(!1),O=f[0],w=f[1],N=Object(u.useState)(!1),k=N[0],P=N[1],S=Object(u.useState)(""),_=S[0],E=S[1],C=Object(u.useState)(""),D=C[0],I=(C[1],Object(u.useState)(!1)),B=I[0],T=I[1];Object(u.useEffect)(Object(i.a)(s.a.mark((function e(){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}if(void 0!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(v.c)(t);case 5:if(!(r=e.sent).error){e.next=9;break}return alert("error"),e.abrupt("return");case 9:c={title:r.meta.title,content:r.content,tags:r.meta.tags},l(c);case 11:case"end":return e.stop()}}),e)}))),[t]);var V=function(e,t){l((function(n){return y(y({},n),{},Object(c.a)({},e,t))}))},q=function(){var e=Object(i.a)(s.a.mark((function e(r){var c,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c=(new Date).toISOString().slice(0,10),a=o.tags,i={slug:j()(o.title),title:o.title,date:c,description:D,tags:a,content:o.content},T(!0),!n){e.next=11;break}return e.next=8,Object(v.d)(t,i);case 8:b.replace("../../admin/post/"+i.slug),e.next=14;break;case 11:return e.next=13,Object(v.a)(i);case 13:b.replace("../admin/viewpost");case 14:T(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){var t=o.tags.indexOf(e);if(-1!==t){var n=o.tags;n.splice(t,1),V("tags",n)}};return Object(r.jsxs)(d.a,{pageTitle:n?"Edit Post":"New post",description:"Post ss",children:[Object(r.jsx)(m.a,{isLoading:B}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("div",{className:"w-3/6 mx-auto sm:px-6 lg:px-8",children:Object(r.jsx)("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:Object(r.jsx)("div",{className:"p-6 bg-white border-b border-gray-200",children:Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:"mb-4",children:[O,O?Object(r.jsx)("input",{type:"text",className:"w-full text-2xl",style:{outline:"none",caretColor:"gray",caretShape:"underscore"},name:"title",id:"title",defaultValue:!0,required:!0,onChange:function(e){var t=e.target,n=t.value,r=t.name;V(r,n)},value:o.title,onBlur:function(){return w(!1)}}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("label",{className:"text-2xl text-gray-600",onClick:function(){return w(!0)},children:o.title}),Object(r.jsx)("br",{})]})]}),k?Object(r.jsx)("div",{className:"mb-4",children:Object(r.jsx)("input",{type:"text",className:"border-2 border-gray-300 p-2 w-full",placeholder:"Enter Chip name",value:_,onChange:function(e){return E(e.target.value)},onBlur:function(){var e=o.tags;e.push(_),V("tags",e),P(!1)}})}):"",Object(r.jsxs)("div",{className:"mb-4 p-2 w-full flex border-2",children:[o.tags.map((function(e){return Object(r.jsx)(p.a,{title:e,onDelete:function(){return Q(e)}},"chip"+e)})),Object(r.jsx)("div",{className:"flex justify-center items-center",onClick:function(){P(!0),E("")},children:Object(r.jsx)("img",{src:"https://img.icons8.com/android/24/000000/plus.png"})})]}),Object(r.jsxs)("div",{className:"mb-4",children:[Object(r.jsx)("label",{className:"text-xl text-gray-600",children:"Description"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",className:"border-2 border-gray-300 p-2 w-full",name:"description",id:"description",placeholder:"(Optional)"})]}),Object(r.jsxs)("div",{className:"mb-8",children:[Object(r.jsxs)("label",{className:"text-xl text-gray-600",children:["Content ",Object(r.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(r.jsx)("br",{}),Object(r.jsx)(h.a,{name:"content",value:o.content,onChange:function(e){return V("content",e)},disablePreview:!0,childProps:{writeButton:{tabIndex:-1}}})]}),Object(r.jsxs)("div",{className:"flex p-1",children:[Object(r.jsxs)("select",{className:"border-2 border-gray-300 p-2",name:"action",children:[Object(r.jsx)("option",{children:"Save Only"}),Object(r.jsx)("option",{children:"Save and View"})]}),Object(r.jsx)("button",{className:"p-3 bg-blue-500 text-white hover:bg-blue-400",onClick:q,children:"Post"})]})]})})})}),Object(r.jsx)("div",{className:"w-3/6",children:Object(r.jsx)(x.a,{source:o.content})})]})]})}},oOvi:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/post",function(){return n("yu3Q")}])},yu3Q:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("nKUr"),c=(n("q1tI"),n("kaSb"));function a(){return Object(r.jsx)(c.a,{isEdit:!1,slug:""})}}},[["oOvi",0,2,4,7,8,1,3,5,6,9,10,11]]]);